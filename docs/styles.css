/* styles.css — EmbiggenEye (fun edition) */

/* --- Root Theme --- */
:root{
  --color-bg: #071126;
  --color-surface: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  --card-bg: rgba(20,26,38,0.68);
  --glass: rgba(255,255,255,0.04);
  --glass-2: rgba(255,255,255,0.02);
  --accent: #3ea6ff;
  --accent-2: #66c2ff;
  --accent-3: #7bffb2;
  --highlight: #ff7a00;
  --muted: #9db0c9;
  --text: #eaf4ff;
  --radius: 12px;
  --soft-shadow: 0 6px 20px rgba(1,8,30,0.55);
  --soft-shadow-2: 0 2px 10px rgba(5,10,30,0.35);
  --glass-border: 1px solid rgba(255,255,255,0.035);
  --transition: 240ms cubic-bezier(.2,.9,.3,1);
  --fun: conic-gradient(from 200deg at 50% 0%, rgba(255,122,0,0.12), rgba(62,166,255,0.10), rgba(123,255,178,0.06), rgba(255,122,0,0.06));
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* --- Base layout --- */
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:
  radial-gradient(1200px 400px at 10% 20%, rgba(62,166,255,0.04), transparent 8%),
  radial-gradient(900px 300px at 90% 80%, rgba(255,122,0,0.03), transparent 6%),
  linear-gradient(180deg,#061020 0%, #061020 100%);
  color:var(--text); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* root app */
#app{display:flex;flex-direction:column;height:100vh;}

/* Topbar */
.topbar{
  display:flex;align-items:center;justify-content:space-between;padding:10px 18px;
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-bottom: 1px solid rgba(255,255,255,0.02);
  backdrop-filter: blur(6px) saturate(120%);
  box-shadow: var(--soft-shadow-2);
  z-index:1100;
}

.brand{display:flex;align-items:center;gap:12px}
.brand .logo{height:44px;width:44px;border-radius:8px;object-fit:cover;box-shadow:0 6px 18px rgba(0,0,0,0.55)}
.brand .title{line-height:1}
.brand .title .main{font-weight:800;font-size:18px;color:var(--accent)}
.brand .title .sub{font-size:12px;color:var(--muted)}

/* Controls */
.controls{display:flex;align-items:center;gap:12px}
.search{display:flex;gap:8px;align-items:center}
.search input{
  background:var(--glass);
  border:var(--glass-border);
  padding:8px 12px;
  border-radius:999px;
  color:var(--text);
  width:260px; outline:none;
  box-shadow: 0 6px 18px rgba(2,6,20,0.45) inset;
  transition: var(--transition);
}
.search input::placeholder{color:rgba(255,255,255,0.35)}
.search input:focus{transform:translateY(-1px); box-shadow:0 10px 30px rgba(62,166,255,0.06); border-color: rgba(62,166,255,0.18)}

/* Buttons */
.btn{
  background: linear-gradient(180deg, var(--accent), var(--accent-2));
  color: white; border: none; padding:8px 12px; border-radius: 10px;
  font-weight:700; cursor:pointer; box-shadow: 0 8px 24px rgba(62,166,255,0.08);
  transition: transform 160ms cubic-bezier(.2,.9,.3,1), box-shadow 160ms;
}
.btn:hover{ transform: translateY(-3px); box-shadow: 0 18px 32px rgba(62,166,255,0.12) }
.btn:active{ transform: translateY(-1px) scale(.996) }

.btn.ghost{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color: var(--text); border: 1px solid rgba(255,255,255,0.04);
  box-shadow: none;
}
.btn.small{ padding:6px 8px; font-size:13px; font-weight:600; }

/* Main grid */
main{flex:1;display:grid;grid-template-columns:280px 1fr 320px; gap:14px; padding:14px; align-items:stretch}

/* Panels */
.leftpanel, .rightpanel{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius: var(--radius);
  padding:12px;
  box-shadow: var(--soft-shadow);
  border: 1px solid rgba(255,255,255,0.02);
  min-height: 240px;
}
.leftpanel{display:flex;flex-direction:column;gap:12px}
.rightpanel{display:flex;flex-direction:column;gap:12px}

/* Map container */
#mapContainer{border-radius:var(--radius);overflow:hidden;box-shadow: var(--soft-shadow);background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));}
#map{height:calc(100vh - 190px);width:100%}

/* Layer list */
.layers label{display:flex;align-items:center;gap:8px;padding:6px;border-radius:8px;cursor:pointer;transition: background var(--transition)}
.layers label:hover{ background: linear-gradient(90deg, rgba(62,166,255,0.03), rgba(255,122,0,0.02)) }

/* Legend */
.legend-row{display:flex;align-items:center;gap:10px;margin:6px 0;color:var(--muted)}
.swatch{width:18px;height:12px;border-radius:4px;box-shadow: inset 0 -2px 6px rgba(0,0,0,0.25)}
.swatch.low{background:linear-gradient(90deg,#3ea6ff,#2b6cff)}
.swatch.mid{background:linear-gradient(90deg,#ffd166,#ffe99c)}
.swatch.high{background:linear-gradient(90deg,#ff8a6b,#ff3b3b)}

/* Annotations list */
#annotationsList{margin-top:8px;display:flex;flex-direction:column;gap:8px}
.ann-row{display:flex;justify-content:space-between;gap:8px;padding:8px;border-radius:8px;background:linear-gradient(180deg, rgba(20,28,40,0.6), rgba(15,20,30,0.5));border:1px solid rgba(255,255,255,0.02)}
.ann-row .score{color:var(--accent-3);font-weight:700}

/* Feature details */
.feature-details .empty{color:var(--muted);padding:30px 10px;text-align:center}
.feature-details h3{margin:6px 0;color:var(--accent);font-size:18px}
.feature-details .score-row{margin:6px 0;font-weight:700}
.feature-details .meta{color:var(--muted);font-size:12px}

/* Popups */
.leaflet-popup-content-wrapper{ background: linear-gradient(180deg, rgba(6,10,20,0.98), rgba(10,16,26,0.94)); border-radius:12px; box-shadow: 0 10px 30px rgba(0,0,0,0.55); border: 1px solid rgba(255,255,255,0.03); }
.popup-card h4{color:var(--accent); margin:0 0 6px 0}
.popup-table td{padding:4px 8px;color:var(--muted)}

/* Fancy pulse for suggestions */
.pulse{ position: relative; }
.pulse::after{ content:''; position:absolute; left:50%; top:50%; transform:translate(-50%,-50%); width:34px; height:34px; border-radius:50%; background: radial-gradient(circle, rgba(255,122,0,0.22), rgba(255,122,0,0.06)); animation: pulseScale 1.6s infinite; pointer-events:none; opacity:0.95 }
@keyframes pulseScale { 0% { transform:translate(-50%,-50%) scale(.9); opacity:.95 } 60% { transform:translate(-50%,-50%) scale(1.7); opacity:.18 } 100% { transform:translate(-50%,-50%) scale(0.9); opacity:0 } }

/* Toast */
.toast{position:fixed;right:28px;bottom:28px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;padding:10px 14px;border-radius:12px;box-shadow:0 12px 40px rgba(62,166,255,0.12);transform:translateY(14px);opacity:0;transition:all 280ms cubic-bezier(.2,.9,.3,1);z-index:2200}
.toast.visible{transform:translateY(0);opacity:1}

/* Map vignette (subtle) */
.leaflet-container::after{
  content:''; pointer-events:none; position:absolute; inset:0; border-radius:inherit;
  box-shadow: inset 0 -90px 120px rgba(0,0,0,0.22), inset 0 60px 120px rgba(0,0,0,0.12);
}

/* Buttons inside popups */
.btn.small{ font-size:12px;padding:6px 8px;border-radius:8px }
.popup-accept{ background:linear-gradient(90deg,#2ee6a1,#0fd19a); color:#042017; margin-left:6px }

/* small helpers */
.hidden{ display:none !important }

/* Scrollbar styling */
.leftpanel::-webkit-scrollbar, .rightpanel::-webkit-scrollbar{ width:8px }
.leftpanel::-webkit-scrollbar-thumb, .rightpanel::-webkit-scrollbar-thumb{ background: linear-gradient(180deg,#2f3a4f, #1e2636); border-radius:6px }

/* Tiny micro-animations */
@media (prefers-reduced-motion: no-preference) {
  .ann-row{ transition: transform 220ms var(--transition) }
  .ann-row:hover{ transform: translateY(-4px) scale(1.006); box-shadow: 0 14px 40px rgba(2,6,30,0.45) }
  .btn{ will-change: transform }
}

/* Responsive tweaks */
@media (max-width: 980px){
  main{ grid-template-columns: 1fr; grid-template-rows: auto 1fr auto; gap:10px; padding:10px }
  .leftpanel, .rightpanel { order: 3 }
  #mapContainer { order: 2; min-height: 56vh }
}

/* Small playful flourish for the brand */
.brand .logo { box-shadow: 0 12px 30px rgba(62,166,255,0.06), 0 4px 12px rgba(0,0,0,0.55) }
.brand .title .main::after{
  content:' ✨'; font-size:12px; margin-left:6px; display:inline-block; transform:translateY(-2px)
}

/* fun footer glow */
.bottombar{ background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); padding:12px; text-align:center; font-size:13px; color:var(--muted); border-top:1px solid rgba(255,255,255,0.02) }

